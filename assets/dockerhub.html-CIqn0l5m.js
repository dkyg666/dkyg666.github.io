import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,b as n,d as s,a,e as r,o as i,r as d}from"./app-BwK79we4.js";const u={},c={href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"},p={href:"https://hub.docker.com/search/?type=image",target:"_blank",rel:"noopener noreferrer"},b={href:"https://hub.docker.com",target:"_blank",rel:"noopener noreferrer"},k={href:"https://www.docker.com/blog/changes-to-docker-hub-autobuilds/",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com",target:"_blank",rel:"noopener noreferrer"},v={href:"https://bitbucket.org",target:"_blank",rel:"noopener noreferrer"};function h(f,e){const o=d("ExternalLinkIcon");return i(),l("div",null,[e[20]||(e[20]=n("h1",{id:"docker-hub",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#docker-hub"},[n("span",null,"Docker Hub")])],-1)),n("p",null,[e[2]||(e[2]=s("目前 Docker 官方维护了一个公共仓库 ")),n("a",c,[e[0]||(e[0]=s("Docker Hub")),a(o)]),e[3]||(e[3]=s("，其中已经包括了数量超过 ")),n("a",p,[e[1]||(e[1]=s("2,650,000")),a(o)]),e[4]||(e[4]=s(" 的镜像。大部分需求都可以通过在 Docker Hub 中直接下载镜像来实现。"))]),e[21]||(e[21]=n("h2",{id:"注册",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#注册"},[n("span",null,"注册")])],-1)),n("p",null,[e[6]||(e[6]=s("你可以在 ")),n("a",b,[e[5]||(e[5]=s("https://hub.docker.com")),a(o)]),e[7]||(e[7]=s(" 免费注册一个 Docker 账号。"))]),e[22]||(e[22]=r(`<h2 id="登录" tabindex="-1"><a class="header-anchor" href="#登录"><span>登录</span></a></h2><p>可以通过执行 <code>docker login</code> 命令交互式的输入用户名及密码来完成在命令行界面登录 Docker Hub。</p><p>你可以通过 <code>docker logout</code> 退出登录。</p><h2 id="拉取镜像" tabindex="-1"><a class="header-anchor" href="#拉取镜像"><span>拉取镜像</span></a></h2><p>你可以通过 <code>docker search</code> 命令来查找官方仓库中的镜像，并利用 <code>docker pull</code> 命令来将它下载到本地。</p><p>例如以 <code>centos</code> 为关键词进行搜索：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">docker</span> search centos
NAME                               DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
centos                             The official build of CentOS.                   <span class="token number">6449</span>      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
ansible/centos7-ansible            Ansible on Centos7                              <span class="token number">132</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
consol/centos-xfce-vnc             Centos container with <span class="token string">&quot;headless&quot;</span> VNC session…   <span class="token number">126</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
jdeathe/centos-ssh                 OpenSSH / Supervisor / EPEL/IUS/SCL Repos - …   <span class="token number">117</span>                  <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
centos/systemd                     systemd enabled base container.                 <span class="token number">96</span>                   <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到返回了很多包含关键字的镜像，其中包括镜像名字、描述、收藏数（表示该镜像的受关注程度）、是否官方创建（<code>OFFICIAL</code>）、是否自动构建 （<code>AUTOMATED</code>）。</p><p>根据是否是官方提供，可将镜像分为两类。</p><p>一种是类似 <code>centos</code> 这样的镜像，被称为基础镜像或根镜像。这些基础镜像由 Docker 公司创建、验证、支持、提供。这样的镜像往往使用单个单词作为名字。</p><p>还有一种类型，比如 <code>ansible/centos7-ansible</code> 镜像，它是由 Docker Hub 的注册用户创建并维护的，往往带有用户名称前缀。可以通过前缀 <code>username/</code> 来指定使用某个用户提供的镜像，比如 ansible 用户。</p><p>另外，在查找的时候通过 <code>--filter=stars=N</code> 参数可以指定仅显示收藏数量为 <code>N</code> 以上的镜像。</p><p>下载官方 <code>centos</code> 镜像到本地。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">docker</span> pull centos
Using default tag: latest
latest: Pulling from library/centos
7a0437f04f83: Pull complete
Digest: sha256:5528e8b1b1719d34604c87e11dcd1c0a20bedf46e83b5632cdeac91b8c04efc1
Status: Downloaded newer image <span class="token keyword">for</span> centos:latest
docker.io/library/centos:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="推送镜像" tabindex="-1"><a class="header-anchor" href="#推送镜像"><span>推送镜像</span></a></h2><p>用户也可以在登录后通过 <code>docker push</code> 命令来将自己的镜像推送到 Docker Hub。</p><p>以下命令中的 <code>username</code> 请替换为你的 Docker 账号用户名。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">docker</span> tag ubuntu:18.04 username/ubuntu:18.04

$ <span class="token function">docker</span> image <span class="token function">ls</span>

REPOSITORY                                               TAG                    IMAGE ID            CREATED             SIZE
ubuntu                                                   <span class="token number">18.04</span>                  275d79972a86        <span class="token number">6</span> days ago          <span class="token number">94</span>.6MB
username/ubuntu                                          <span class="token number">18.04</span>                  275d79972a86        <span class="token number">6</span> days ago          <span class="token number">94</span>.6MB

$ <span class="token function">docker</span> push username/ubuntu:18.04

$ <span class="token function">docker</span> search username

NAME                      DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
username/ubuntu
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自动构建" tabindex="-1"><a class="header-anchor" href="#自动构建"><span>自动构建</span></a></h2>`,19)),n("blockquote",null,[n("p",null,[e[9]||(e[9]=s("2021 年 7 月 26 日之后，该项功能仅限")),n("a",k,[e[8]||(e[8]=s("付费用户")),a(o)]),e[10]||(e[10]=s("使用。"))])]),e[23]||(e[23]=n("p",null,[s("自动构建（"),n("code",null,"Automated Builds"),s("）可以自动触发构建镜像，方便升级镜像。")],-1)),e[24]||(e[24]=n("p",null,"有时候，用户构建了镜像，安装了某个软件，当软件发布新版本则需要手动更新镜像。",-1)),n("p",null,[e[13]||(e[13]=s("而自动构建允许用户通过 Docker Hub 指定跟踪一个目标网站（支持 ")),n("a",m,[e[11]||(e[11]=s("GitHub")),a(o)]),e[14]||(e[14]=s(" 或 ")),n("a",v,[e[12]||(e[12]=s("BitBucket")),a(o)]),e[15]||(e[15]=s("）上的项目，一旦项目发生新的提交 （")),e[16]||(e[16]=n("code",null,"commit",-1)),e[17]||(e[17]=s("）或者创建了新的标签（")),e[18]||(e[18]=n("code",null,"tag",-1)),e[19]||(e[19]=s("），Docker Hub 会自动构建镜像并推送到 Docker Hub 中。"))]),e[25]||(e[25]=r("<p>要配置自动构建，包括如下的步骤：</p><ul><li><p>登录 Docker Hub；</p></li><li><p>在 Docker Hub 点击右上角头像，在账号设置（<code>Account Settings</code>）中关联（<code>Linked Accounts</code>）目标网站；</p></li><li><p>在 Docker Hub 中新建或选择已有的仓库，在 <code>Builds</code> 选项卡中选择 <code>Configure Automated Builds</code>；</p></li><li><p>选取一个目标网站中的项目（需要含 <code>Dockerfile</code>）和分支；</p></li><li><p>指定 <code>Dockerfile</code> 的位置，并保存。</p></li></ul><p>之后，可以在 Docker Hub 的仓库页面的 <code>Timeline</code> 选项卡中查看每次构建的状态。</p>",3))])}const A=t(u,[["render",h],["__file","dockerhub.html.vue"]]),x=JSON.parse('{"path":"/index/Docker/repository/dockerhub.html","title":"Docker Hub","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"注册","slug":"注册","link":"#注册","children":[]},{"level":2,"title":"登录","slug":"登录","link":"#登录","children":[]},{"level":2,"title":"拉取镜像","slug":"拉取镜像","link":"#拉取镜像","children":[]},{"level":2,"title":"推送镜像","slug":"推送镜像","link":"#推送镜像","children":[]},{"level":2,"title":"自动构建","slug":"自动构建","link":"#自动构建","children":[]}],"git":{"createdTime":1731129855000,"updatedTime":1731129855000,"contributors":[{"name":"dkyg666","email":"43946866+dkyg666@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":2.9,"words":871},"filePathRelative":"index/Docker/repository/dockerhub.md","localizedDate":"2024年11月9日","excerpt":"\\n<p>目前 Docker 官方维护了一个公共仓库 <a href=\\"https://hub.docker.com/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Docker Hub</a>，其中已经包括了数量超过 <a href=\\"https://hub.docker.com/search/?type=image\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">2,650,000</a> 的镜像。大部分需求都可以通过在 Docker Hub 中直接下载镜像来实现。</p>\\n<h2>注册</h2>\\n<p>你可以在 <a href=\\"https://hub.docker.com\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://hub.docker.com</a> 免费注册一个 Docker 账号。</p>"}');export{A as comp,x as data};
