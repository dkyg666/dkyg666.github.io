import{u as $,f as te,g as ie,h as U,i as re,P as le,t as oe,j as ne,k as q,l as F,m as ae,n as K,p as i,q as ce,R as j,s as se,v as de,x as me,C as ue,y as he,z as xe,A as ke,B as pe,D as De,E as Ee,F as Be,G as I,H as P,I as ve,J as f,K as ge}from"./app-B_h_uIeu.js";const Ae=["/","/collect/","/collect/web.html","/index/","/other/","/index/Alist/build/03-code.html","/index/Alist/build/05-head.html","/index/Alist/build/06-body.html","/index/Alist/build/","/index/Alist/build/github.html","/index/Alist/build/kaifa.html","/index/Alist/build/linux.html","/index/Alist/build/win.html","/index/Alist/drivers/","/index/Alist/drivers/common.html","/index/Alist/drivers/local.html","/index/Alist/install/","/index/Alist/install/docker.html","/index/Alist/install/manual.html","/index/Alist/install/reverse-proxy.html","/index/Alist/install/script.html","/index/Alist/install/source.html","/index/Docker/advanced_network/","/index/Docker/advanced_network/access_control.html","/index/Docker/advanced_network/bridge.html","/index/Docker/advanced_network/config_file.html","/index/Docker/advanced_network/docker0.html","/index/Docker/advanced_network/example.html","/index/Docker/advanced_network/http_https_proxy.html","/index/Docker/advanced_network/port_mapping.html","/index/Docker/advanced_network/ptp.html","/index/Docker/advanced_network/quick_guide.html","/index/Docker/appendix/","/index/Docker/appendix/best_practices.html","/index/Docker/appendix/debug.html","/index/Docker/appendix/resources.html","/index/Docker/archive/","/index/Docker/basic_concept/","/index/Docker/basic_concept/container.html","/index/Docker/basic_concept/image.html","/index/Docker/basic_concept/repository.html","/index/Docker/buildx/","/index/Docker/buildx/buildkit.html","/index/Docker/buildx/buildx.html","/index/Docker/buildx/multi-arch-images.html","/index/Docker/cloud/","/index/Docker/cloud/alicloud.html","/index/Docker/cloud/aws.html","/index/Docker/cloud/intro.html","/index/Docker/cloud/summary.html","/index/Docker/cloud/tencentCloud.html","/index/Docker/compose/","/index/Docker/compose/commands.html","/index/Docker/compose/compose_file.html","/index/Docker/compose/django.html","/index/Docker/compose/install.html","/index/Docker/compose/introduction.html","/index/Docker/compose/lnmp.html","/index/Docker/compose/rails.html","/index/Docker/compose/usage.html","/index/Docker/compose/v2.html","/index/Docker/compose/wordpress.html","/index/Docker/container/","/index/Docker/container/attach_exec.html","/index/Docker/container/daemon.html","/index/Docker/container/import_export.html","/index/Docker/container/rm.html","/index/Docker/container/run.html","/index/Docker/container/stop.html","/index/Docker/coreos/","/index/Docker/coreos/install.html","/index/Docker/coreos/intro.html","/index/Docker/data_management/","/index/Docker/data_management/bind-mounts.html","/index/Docker/data_management/volume.html","/index/Docker/etcd/","/index/Docker/etcd/cluster.html","/index/Docker/etcd/etcdctl-v2.html","/index/Docker/etcd/etcdctl.html","/index/Docker/etcd/install.html","/index/Docker/etcd/intro.html","/index/Docker/ide/","/index/Docker/ide/vsCode.html","/index/Docker/image/","/index/Docker/image/build.html","/index/Docker/image/commit.html","/index/Docker/image/internal.html","/index/Docker/image/list.html","/index/Docker/image/manifest.html","/index/Docker/image/other.html","/index/Docker/image/pull.html","/index/Docker/image/rm.html","/index/Docker/install/","/index/Docker/install/centos.html","/index/Docker/install/debian.html","/index/Docker/install/experimental.html","/index/Docker/install/fedora.html","/index/Docker/install/mirror.html","/index/Docker/install/offline.html","/index/Docker/install/raspberry-pi.html","/index/Docker/install/ubuntu.html","/index/Docker/introduction/","/index/Docker/introduction/what.html","/index/Docker/introduction/why.html","/index/Docker/network/","/index/Docker/network/dns.html","/index/Docker/network/linking.html","/index/Docker/network/port_mapping.html","/index/Docker/podman/","/index/Docker/repository/","/index/Docker/repository/dockerhub.html","/index/Docker/repository/nexus3_registry.html","/index/Docker/repository/registry.html","/index/Docker/repository/registry_auth.html","/index/Docker/security/","/index/Docker/security/control_group.html","/index/Docker/security/daemon_sec.html","/index/Docker/security/kernel_capability.html","/index/Docker/security/kernel_ns.html","/index/Docker/security/other_feature.html","/index/Docker/security/summary.html","/index/Docker/swarm_mode/","/index/Docker/swarm_mode/config.html","/index/Docker/swarm_mode/create.html","/index/Docker/swarm_mode/deploy.html","/index/Docker/swarm_mode/overview.html","/index/Docker/swarm_mode/rolling_update.html","/index/Docker/swarm_mode/secret.html","/index/Docker/swarm_mode/stack.html","/index/Docker/underly/","/index/Docker/underly/arch.html","/index/Docker/underly/cgroups.html","/index/Docker/underly/container_format.html","/index/Docker/underly/namespace.html","/index/Docker/underly/network.html","/index/Docker/underly/ufs.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/3x-ui/3x-ui.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/3x-ui/","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/Dockerfile.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/Linux%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85Docker.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/Nginx.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/OpenWrt.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/%E5%85%B6%E4%BB%96.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/%E6%A0%B9%E6%8D%AEesir%E5%9B%BA%E4%BB%B6%E5%88%B6%E4%BD%9Copenwrt%20docker%E9%95%9C%E5%83%8F.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/%E8%AF%A6%E8%A7%A3Linux%E9%98%B2%E7%81%AB%E5%A2%99%EF%BC%88ufw%E5%91%BD%E4%BB%A4%EF%BC%89.html","/index/Alist/build/sso/","/index/Alist/build/sso/build.html","/index/Alist/build/sso/dev.html","/index/Docker/appendix/command/","/index/Docker/appendix/command/docker.html","/index/Docker/appendix/command/dockerd.html","/index/Docker/appendix/faq/","/index/Docker/appendix/repo/","/index/Docker/appendix/repo/centos.html","/index/Docker/appendix/repo/minio.html","/index/Docker/appendix/repo/mongodb.html","/index/Docker/appendix/repo/mysql.html","/index/Docker/appendix/repo/nginx.html","/index/Docker/appendix/repo/nodejs.html","/index/Docker/appendix/repo/php.html","/index/Docker/appendix/repo/redis.html","/index/Docker/appendix/repo/ubuntu.html","/index/Docker/appendix/repo/wordpress.html","/index/Docker/cases/ci/","/index/Docker/cases/os/","/index/Docker/cases/os/alpine.html","/index/Docker/cases/os/busybox.html","/index/Docker/cases/os/centos.html","/index/Docker/cases/os/debian.html","/index/Docker/cases/os/summary.html","/index/Docker/image/dockerfile/","/index/Docker/image/dockerfile/add.html","/index/Docker/image/dockerfile/arg.html","/index/Docker/image/dockerfile/cmd.html","/index/Docker/image/dockerfile/copy.html","/index/Docker/image/dockerfile/entrypoint.html","/index/Docker/image/dockerfile/env.html","/index/Docker/image/dockerfile/expose.html","/index/Docker/image/dockerfile/healthcheck.html","/index/Docker/image/dockerfile/label.html","/index/Docker/image/dockerfile/onbuild.html","/index/Docker/image/dockerfile/references.html","/index/Docker/image/dockerfile/shell.html","/index/Docker/image/dockerfile/user.html","/index/Docker/image/dockerfile/volume.html","/index/Docker/image/dockerfile/workdir.html","/index/Docker/image/multistage-builds/","/index/Docker/image/multistage-builds/laravel.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/local/OpenWrt-Install.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/local/","/index/Docker/cases/ci/actions/","/index/Docker/cases/ci/drone/","/index/Docker/cases/ci/drone/install.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/local/esxi/R1_ESXI8.html","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/local/esxi/","/index/Docker/cases/ci/drone/demo/","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/local/esxi/ESXi%E4%B8%8B%E5%AE%89%E8%A3%85iKuai%E5%92%8CLEDE%E5%8F%8C%E8%BD%AF%E8%B7%AF%E7%94%B1/softroute.html","/404.html","/index/Alist/","/index/Docker/","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/","/index/Docker/cases/","/other/%E8%BD%AF%E8%B7%AF%E7%94%B1/OpenWrt/local/esxi/ESXi%E4%B8%8B%E5%AE%89%E8%A3%85iKuai%E5%92%8CLEDE%E5%8F%8C%E8%BD%AF%E8%B7%AF%E7%94%B1/","/category/","/category/%E8%BD%AF%E4%BB%B6%E6%94%B6%E8%97%8F/","/category/%E5%8E%86%E5%8F%B2%E7%89%88%E6%9C%AC/","/category/%E7%9B%91%E6%8E%A7/","/category/%E6%96%87%E6%A1%A3/","/category/%E5%85%B6%E4%BB%96/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/guide/","/category/%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/","/tag/","/tag/%E8%BD%AF%E4%BB%B6%E6%94%B6%E8%97%8F/","/tag/github/","/tag/internet/","/tag/alist%E9%AD%94%E6%94%BB%E6%95%99%E7%A8%8B/","/tag/%E8%87%AA%E5%B7%B1%E7%BC%96%E8%AF%91/","/tag/%E5%85%B6%E4%BB%96%E7%8E%A9%E6%B3%95/","/tag/code/","/tag/alist%E7%BE%8E%E5%8C%96%E6%95%99%E7%A8%8B/","/tag/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%A4%B4%E9%83%A8/","/tag/head/","/tag/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%86%85%E5%AE%B9/","/tag/body/","/tag/alist%E9%AD%94%E6%94%B9%E6%95%99%E7%A8%8B/","/tag/%E7%BC%96%E8%AF%91alist%E6%95%99%E7%A8%8B/","/tag/build/","/tag/github-action/","/tag/alist%E6%95%99%E7%A8%8B/","/tag/%E5%9C%A8%E7%BA%BF%E8%B0%83%E8%AF%95/","/tag/linux/","/tag/windows/","/tag/storage/","/tag/guide/","/tag/%E6%9C%AC%E5%9C%B0%E4%BB%A3%E7%90%86/","/tag/install/","/tag/%E7%BC%96%E8%AF%91cadoor%E6%95%99%E7%A8%8B/","/tag/cadoor/","/tag/dev/","/tag/openwrt/","/article/","/star/","/timeline/"],ye="SEARCH_PRO_QUERY_HISTORY",D=$(ye,[]),Fe=()=>{const{queryHistoryCount:r}=f,l=r>0;return{enabled:l,queryHistory:D,addQueryHistory:o=>{l&&(D.value=Array.from(new Set([o,...D.value.slice(0,r-1)])))},removeQueryHistory:o=>{D.value=[...D.value.slice(0,o),...D.value.slice(o+1)]}}},Q=r=>Ae[r.id]+("anchor"in r?`#${r.anchor}`:""),fe="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:T}=f,E=$(fe,[]),be=()=>{const r=T>0;return{enabled:r,resultHistory:E,addResultHistory:l=>{if(r){const o={link:Q(l),display:l.display};"header"in l&&(o.header=l.header),E.value=[o,...E.value.slice(0,T-1)]}},removeResultHistory:l=>{E.value=[...E.value.slice(0,l),...E.value.slice(l+1)]}}},we=r=>{const l=ue(),o=U(),b=he(),a=q(0),g=F(()=>a.value>0),x=xe([]);return ke(()=>{const{search:k,terminate:w}=pe(),B=ve(d=>{const v=d.join(" "),{searchFilter:_=h=>h,splitWord:C,suggestionsFilter:S,...p}=l.value;v?(a.value+=1,k(d.join(" "),o.value,p).then(h=>_(h,v,o.value,b.value)).then(h=>{a.value-=1,x.value=h}).catch(h=>{console.warn(h),a.value-=1,a.value||(x.value=[])})):x.value=[]},f.searchDelay-f.suggestDelay);K([r,o],([d])=>B(d),{immediate:!0}),De(()=>{w()})}),{isSearching:g,results:x}};var Ce=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(r,{emit:l}){const o=ie(),b=U(),a=re(le),{enabled:g,addQueryHistory:x,queryHistory:k,removeQueryHistory:w}=Fe(),{enabled:B,resultHistory:d,addResultHistory:v,removeResultHistory:_}=be(),C=g||B,S=oe(r,"queries"),{results:p,isSearching:h}=we(S),n=ne({isQuery:!0,index:0}),m=q(0),u=q(0),W=F(()=>C&&(k.value.length>0||d.value.length>0)),H=F(()=>p.value.length>0),R=F(()=>p.value[m.value]||null),X=()=>{const{isQuery:e,index:t}=n;t===0?(n.isQuery=!e,n.index=e?d.value.length-1:k.value.length-1):n.index=t-1},Y=()=>{const{isQuery:e,index:t}=n;t===(e?k.value.length-1:d.value.length-1)?(n.isQuery=!e,n.index=0):n.index=t+1},M=()=>{m.value=m.value>0?m.value-1:p.value.length-1,u.value=R.value.contents.length-1},z=()=>{m.value=m.value<p.value.length-1?m.value+1:0,u.value=0},G=()=>{u.value<R.value.contents.length-1?u.value+=1:z()},J=()=>{u.value>0?u.value-=1:M()},O=e=>e.map(t=>ge(t)?t:i(t[0],t[1])),N=e=>{if(e.type==="customField"){const t=Ee[e.index]||"$content",[c,y=""]=Be(t)?t[b.value].split("$content"):t.split("$content");return e.display.map(s=>i("div",O([c,...s,y])))}return e.display.map(t=>i("div",O(t)))},A=()=>{m.value=0,u.value=0,l("updateQuery",""),l("close")},V=()=>g?i("ul",{class:"search-pro-result-list"},i("li",{class:"search-pro-result-list-item"},[i("div",{class:"search-pro-result-title"},a.value.queryHistory),k.value.map((e,t)=>i("div",{class:["search-pro-result-item",{active:n.isQuery&&n.index===t}],onClick:()=>{l("updateQuery",e)}},[i(I,{class:"search-pro-result-type"}),i("div",{class:"search-pro-result-content"},e),i("button",{class:"search-pro-remove-icon",innerHTML:P,onClick:c=>{c.preventDefault(),c.stopPropagation(),w(t)}})]))])):null,Z=()=>B?i("ul",{class:"search-pro-result-list"},i("li",{class:"search-pro-result-list-item"},[i("div",{class:"search-pro-result-title"},a.value.resultHistory),d.value.map((e,t)=>i(j,{to:e.link,class:["search-pro-result-item",{active:!n.isQuery&&n.index===t}],onClick:()=>{A()}},()=>[i(I,{class:"search-pro-result-type"}),i("div",{class:"search-pro-result-content"},[e.header?i("div",{class:"content-header"},e.header):null,i("div",e.display.map(c=>O(c)).flat())]),i("button",{class:"search-pro-remove-icon",innerHTML:P,onClick:c=>{c.preventDefault(),c.stopPropagation(),_(t)}})]))])):null;return ae("keydown",e=>{if(r.isFocusing){if(H.value){if(e.key==="ArrowUp")J();else if(e.key==="ArrowDown")G();else if(e.key==="Enter"){const t=R.value.contents[u.value];x(r.queries.join(" ")),v(t),o.push(Q(t)),A()}}else if(B){if(e.key==="ArrowUp")X();else if(e.key==="ArrowDown")Y();else if(e.key==="Enter"){const{index:t}=n;n.isQuery?(l("updateQuery",k.value[t]),e.preventDefault()):(o.push(d.value[t].link),A())}}}}),K([m,u],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>i("div",{class:["search-pro-result-wrapper",{empty:r.queries.length?!H.value:!W.value}],id:"search-pro-results"},r.queries.length?h.value?i(ce,{hint:a.value.searching}):H.value?i("ul",{class:"search-pro-result-list"},p.value.map(({title:e,contents:t},c)=>{const y=m.value===c;return i("li",{class:["search-pro-result-list-item",{active:y}]},[i("div",{class:"search-pro-result-title"},e||a.value.defaultTitle),t.map((s,ee)=>{const L=y&&u.value===ee;return i(j,{to:Q(s),class:["search-pro-result-item",{active:L,"aria-selected":L}],onClick:()=>{x(r.queries.join(" ")),v(s),A()}},()=>[s.type==="text"?null:i(s.type==="title"?se:s.type==="heading"?de:me,{class:"search-pro-result-type"}),i("div",{class:"search-pro-result-content"},[s.type==="text"&&s.header?i("div",{class:"content-header"},s.header):null,i("div",N(s))])])})])})):a.value.emptyResult:C?W.value?[V(),Z()]:a.value.emptyHistory:a.value.emptyResult)}});export{Ce as default};
