import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as i,c as d,e as c,b as n,d as a,a as s,r as t}from"./app-DFk01ace.js";const p="/assets/alpinelinux-logo-CvY4ClzF.png",r={},u={href:"https://www.alpinelinux.org/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://github.com/alpinelinux",target:"_blank",rel:"noopener noreferrer"},b={href:"https://hub.docker.com/_/alpine/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://github.com/gliderlabs/docker-alpine",target:"_blank",rel:"noopener noreferrer"};function m(h,e){const o=t("ExternalLinkIcon");return i(),d("div",null,[e[12]||(e[12]=c('<h1 id="alpine" tabindex="-1"><a class="header-anchor" href="#alpine"><span>Alpine</span></a></h1><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h2><figure><img src="'+p+`" alt="Alpine Linux 操作系统" tabindex="0" loading="lazy"><figcaption>Alpine Linux 操作系统</figcaption></figure><p><code>Alpine</code> 操作系统是一个面向安全的轻型 <code>Linux</code> 发行版。它不同于通常 <code>Linux</code> 发行版，<code>Alpine</code> 采用了 <code>musl libc</code> 和 <code>busybox</code> 以减小系统的体积和运行时资源消耗，但功能上比 <code>busybox</code> 又完善的多，因此得到开源社区越来越多的青睐。在保持瘦身的同时，<code>Alpine</code> 还提供了自己的包管理工具 <code>apk</code>，可以通过 <code>https://pkgs.alpinelinux.org/packages</code> 网站上查询包信息，也可以直接通过 <code>apk</code> 命令直接查询和安装各种软件。</p><p><code>Alpine</code> 由非商业组织维护的，支持广泛场景的 <code>Linux</code>发行版，它特别为资深/重度<code>Linux</code>用户而优化，关注安全，性能和资源效能。<code>Alpine</code> 镜像可以适用于更多常用场景，并且是一个优秀的可以适用于生产的基础系统/环境。</p><p><code>Alpine</code> Docker 镜像也继承了 <code>Alpine Linux</code> 发行版的这些优势。相比于其他 <code>Docker</code> 镜像，它的容量非常小，仅仅只有 <strong>5 MB</strong> 左右（对比 <code>Ubuntu</code> 系列镜像接近 <code>200 MB</code>），且拥有非常友好的包管理机制。官方镜像来自 <code>docker-alpine</code> 项目。</p><p>目前 Docker 官方已开始推荐使用 <code>Alpine</code> 替代之前的 <code>Ubuntu</code> 做为基础镜像环境。这样会带来多个好处。包括镜像下载速度加快，镜像安全性提高，主机之间的切换更方便，占用更少磁盘空间等。</p><p>下表是官方镜像的大小比较：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>REPOSITORY          TAG           IMAGE ID          VIRTUAL SIZE
alpine              latest        4e38e38c8ce0      <span class="token number">4.799</span> MB
debian              latest        4d6ce913b130      <span class="token number">84.98</span> MB
ubuntu              latest        b39b81afc8ca      <span class="token number">188.3</span> MB
centos              latest        8efe422e6104      <span class="token number">210</span> MB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="获取并使用官方镜像" tabindex="-1"><a class="header-anchor" href="#获取并使用官方镜像"><span>获取并使用官方镜像</span></a></h2><p>由于镜像很小，下载时间往往很短，读者可以直接使用 <code>docker run</code> 指令直接运行一个 <code>Alpine</code> 容器，并指定运行的 Linux 指令，例如：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">docker</span> run alpine <span class="token builtin class-name">echo</span> <span class="token string">&#39;123&#39;</span>
<span class="token number">123</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="迁移至-alpine-基础镜像" tabindex="-1"><a class="header-anchor" href="#迁移至-alpine-基础镜像"><span>迁移至 <code>Alpine</code> 基础镜像</span></a></h2><p>目前，大部分 Docker 官方镜像都已经支持 <code>Alpine</code> 作为基础镜像，可以很容易进行迁移。</p><p>例如：</p><ul><li><code>ubuntu/debian</code> -&gt; <code>alpine</code></li><li><code>python:3</code> -&gt; <code>python:3-alpine</code></li><li><code>ruby:2.6</code> -&gt; <code>ruby:2.6-alpine</code></li></ul><p>另外，如果使用 <code>Alpine</code> 镜像替换 <code>Ubuntu</code> 基础镜像，安装软件包时需要用 <code>apk</code> 包管理器替换 <code>apt</code> 工具，如</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ apk <span class="token function">add</span> --no-cache <span class="token operator">&lt;</span>package<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>Alpine</code> 中软件安装包的名字可能会与其他发行版有所不同，可以在 <code>https://pkgs.alpinelinux.org/packages</code> 网站搜索并确定安装包名称。如果需要的安装包不在主索引内，但是在测试或社区索引中。那么可以按照以下方法使用这些安装包。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;http://dl-cdn.alpinelinux.org/alpine/edge/testing&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/apk/repositories
$ apk <span class="token parameter variable">--update</span> <span class="token function">add</span> --no-cache <span class="token operator">&lt;</span>package<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>由于在国内访问 <code>apk</code> 仓库较缓慢，建议在使用 <code>apk</code> 之前先替换仓库地址为国内镜像。</p><div class="language-docker line-numbers-mode" data-ext="docker" data-title="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">RUN</span> sed -i <span class="token string">&quot;s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g&quot;</span> /etc/apk/repositories <span class="token operator">\\</span>
      &amp;&amp; apk add --no-cache &lt;package&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="相关资源" tabindex="-1"><a class="header-anchor" href="#相关资源"><span>相关资源</span></a></h2>`,23)),n("ul",null,[n("li",null,[e[1]||(e[1]=n("code",null,"Alpine",-1)),e[2]||(e[2]=a(" 官网：")),n("a",u,[e[0]||(e[0]=a("https://www.alpinelinux.org/")),s(o)])]),n("li",null,[e[4]||(e[4]=n("code",null,"Alpine",-1)),e[5]||(e[5]=a(" 官方仓库：")),n("a",g,[e[3]||(e[3]=a("https://github.com/alpinelinux")),s(o)])]),n("li",null,[e[7]||(e[7]=n("code",null,"Alpine",-1)),e[8]||(e[8]=a(" 官方镜像：")),n("a",b,[e[6]||(e[6]=a("https://hub.docker.com/_/alpine/")),s(o)])]),n("li",null,[e[10]||(e[10]=n("code",null,"Alpine",-1)),e[11]||(e[11]=a(" 官方镜像仓库：")),n("a",k,[e[9]||(e[9]=a("https://github.com/gliderlabs/docker-alpine")),s(o)])])])])}const f=l(r,[["render",m],["__file","alpine.html.vue"]]),A=JSON.parse('{"path":"/index/Docker/cases/os/alpine.html","title":"Alpine","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"简介","slug":"简介","link":"#简介","children":[]},{"level":2,"title":"获取并使用官方镜像","slug":"获取并使用官方镜像","link":"#获取并使用官方镜像","children":[]},{"level":2,"title":"迁移至 Alpine 基础镜像","slug":"迁移至-alpine-基础镜像","link":"#迁移至-alpine-基础镜像","children":[]},{"level":2,"title":"相关资源","slug":"相关资源","link":"#相关资源","children":[]}],"git":{"createdTime":1731129855000,"updatedTime":1731129855000,"contributors":[{"name":"dkyg666","email":"43946866+dkyg666@users.noreply.github.com","commits":1}]},"readingTime":{"minutes":2.49,"words":746},"filePathRelative":"index/Docker/cases/os/alpine.md","localizedDate":"2024年11月9日","excerpt":"\\n<h2>简介</h2>\\n<figure><figcaption>Alpine Linux 操作系统</figcaption></figure>\\n<p><code>Alpine</code> 操作系统是一个面向安全的轻型 <code>Linux</code> 发行版。它不同于通常 <code>Linux</code> 发行版，<code>Alpine</code> 采用了 <code>musl libc</code> 和 <code>busybox</code> 以减小系统的体积和运行时资源消耗，但功能上比 <code>busybox</code> 又完善的多，因此得到开源社区越来越多的青睐。在保持瘦身的同时，<code>Alpine</code> 还提供了自己的包管理工具 <code>apk</code>，可以通过 <code>https://pkgs.alpinelinux.org/packages</code> 网站上查询包信息，也可以直接通过 <code>apk</code> 命令直接查询和安装各种软件。</p>"}');export{f as comp,A as data};
